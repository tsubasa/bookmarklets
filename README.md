# rakumoTimeRecorderBookmarklet

## これはなに？

弊社で利用しているrakumoタイムレコーダーの機能を拡張するブックマークレットです。

#### 出来ること

* ワンクリックでタイムカードをTSV形式でコピー（そのままエクセルに貼り付け可能）
* 1ヶ月の営業日数や労働時間、本日までの過不足時間などを一括計算表示
* 有給休暇や午前休、午後休、欠勤の計算に対応

## 使い方

### 動作確認環境

* Google Chrome v67+
* Firefox v56+

### ブックマークレットを登録する

#### Google Chrome ユーザー

1. [/dist/bookmarklet.js](dist/bookmarklet.js) を開きソースコードを丸々コピーする
2. Google Chromeを起動し、ブックマークマネージャー( `chrome://bookmarks/` )を開く
3. 開いたページ内で右クリックし、「新しいブックマークを追加」をクリック
4. 名前はお好きにどうぞ「rakumoタイムカードブックマークレット」など
5. URLに先程コピーしたjsコードを貼り付ける
6. `[保存]`をクリックして完了

#### Firefox ユーザー

1. [/dist/bookmarklet.js](dist/bookmarklet.js) を開きソースコードを丸々コピーする
2. Firefoxを起動し、ブックマーク管理を開く
3. 開いたウィンドウ内で右クリックし、「新しいブックマーク」をクリック
4. 名前はお好きにどうぞ「rakumoタイムカードブックマークレット」など
5. URLに先程コピーしたjsコードを貼り付ける
6. `[追加]`をクリックして完了

* [ブックマークレットをインストールする方法 | Firefox ヘルプ](https://support.mozilla.org/ja/kb/bookmarklets-perform-common-web-page-tasks)

### 実際に利用してみる

1. [rakumoタイムレコーダー](https://a-rakumo.appspot.com/time_recorder)のページを表示する
2. 先程登録したブックマークをクリックして実行する
3. 時間などが表示されればOK

### 小ネタ、テクニック

* タイムレコーダーのコメント欄に `全休`, `有給`, `有休`, `AM休`, `PM休`, `午前休`, `午後休` などの文字列があれば補完して計算します。
* 上記に連動して任意の文字列があればタイムカードコピー時に `*` を自動挿入します。

## TODO

* 代休や休日出勤の計算には未対応（要望があれば今後対応するかもしれません）
* 徹夜作業などは正しい計算が出来ません。
* 夏期休暇をずらして取得すると正しく計算が出来ません。
