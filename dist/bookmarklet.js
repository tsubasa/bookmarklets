javascript:(function(){'use strict';let m={};const n=(a)=>{const b=document.createElement("textarea");b.value=a;b.setAttribute("readonly","");b.style.position="absolute";b.style.left="-9999px";document.body.appendChild(b);b.select();document.execCommand("copy");document.body.removeChild(b)};class p{constructor(){this.b=new q;this.w=new r(".tableBody .dateRow");this.h=[];this.V=[];this.g=this.f=this.i=0;this.c();this.ha()}c(){let a=[];a=this.w.getAll(!0);const b=[this.getYear(),this.getMonth()].join("-");a.forEach((a)=>{const c=[b,this.K(a[0])].join("-"),f=this.m(a[1]);let h=this.m(a[4]);h=c===this.N()&&null===h&&null!==f?this.ba():h;this.P(a[5])?this.h.push(this.b.ea(h)):this.S(a[5])?this.h.push(this.b.fa(f)):this.O(a[5])?this.h.push(this.b.da()):this.R(a[5])?this.i+=1:this.T(a[5])?(this.f+=1,this.h.push(this.b.ga(f,h))):(this.C(c)&&this.h.push(this.b.c(f,h)),!this.C(c)&&f&&h&&(this.g+=1,this.h.push(this.b.c(f,h))))});a=this.w.getAll();a.forEach((a)=>{this.V.push([this.R(a[5])?"*":null,this.T(a[5])?"*":null,this.O(a[5])?"*":null,this.P(a[5])?"*":null,this.m(a[1]),this.m(a[4]),this.S(a[5])?"*":null].join("\t"))})}ha(){const a=document.createElement("button");a.innerText="\u30bf\u30a4\u30e0\u30ab\u30fc\u30c9\u3092\u52e4\u6020\u8868\u5f62\u5f0f\u3067\u30b3\u30d4\u30fc\u3059\u308b";a.style.marginBottom="5px";a.addEventListener("click",()=>{n(this.V.join("\n"));const b=document.createElement("span");b.innerHTML=" (\u30b3\u30d4\u30fc\u5b8c\u4e86\uff01\u52e4\u6020\u8868\u30a8\u30af\u30bb\u30eb\u306e\x3cb\x3eE5\u30bb\u30eb\x3c/b\x3e\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044)";b.style.color="#f00";a.parentNode.insertBefore(b,a.nextElementSibling);setTimeout(()=>{b.parentNode.removeChild(b)},8E3)});var b=this.B(),c=this.b.A;const e=this.b.aa();var f=b-this.B(!0);const h="\u30b3\u30a2 \u30b3\u30a2\u5916 \u65e5\u8a08 \u30da\u30ca\u30eb\u30c6\u30a3 \u6b8b\u696d \u6b20\u52e4 \u6709\u4f11".split(" "),g=[0,0,0,0,0,0,0],d=document.createElement("div");this.h.forEach((a)=>{g[0]+=a[0]+a[1];g[1]+=a[2];g[2]+=a[3];g[3]+=a[4];g[4]+=a[5];g[5]+=a[4]===e&&0===a[2]?1:0;g[6]+=a[6]});d.innerHTML="[\u4eca\u6708\u306e\u60f3\u5b9a] ";var k=e*(b+this.g)-g[6]*e+this.f*e-this.i*c;const l=(c-e)*(b-this.i+this.g)+this.f*c;[k,l,k+l].forEach((a,b)=>{b&&(d.innerHTML+=", ");d.innerHTML+=`${h[b]}: ${a}`});d.innerHTML+=`, \u55b6\u696d\u65e5\u6570: ${b}\u65e5(\u6b8b\u308a: ${f}\u65e5)${this.f+this.g?`, \u4f11\u51fa: ${this.f}(${this.g})\u65e5`:""}${this.i?`, \u4ee3\u4f11: ${this.i}\u65e5`:""}`;b=this.B(!0)-this.i;d.innerHTML+="\x3cbr\x3e[\u672c\u65e5\u307e\u3067\u306e\u60f3\u5b9a] ";f=e*b-e*this.f+e*this.g;k=(c-e)*b+e*this.f+e*this.g;[f,k,f+k].forEach((a,b)=>{b&&(d.innerHTML+=", ");d.innerHTML+=`${h[b]}: ${a}`});d.innerHTML+="\x3cbr\x3e[\u73fe\u5728\u307e\u3067\u306e\u5b9f\u7e3e] ";g.forEach((a,b)=>{a=Math.round(100*a)/100;b&&(d.innerHTML+=", ");d.innerHTML+=`\x3cspan class\x3d"js${b}"\x3e${h[b]}: ${a}\x3c/span\x3e`});e*b>Math.round(100*g[0])/100&&(d.querySelector(".js0").style.color="red");(c-e)*b>Math.round(100*g[1])/100&&(d.querySelector(".js1").style.color="red");b=document.createElement("div");b.style.clear="both";b.style.padding="5px 10px";b.appendChild(a);b.appendChild(d);document.querySelector(".timeCardHeader").appendChild(b);c=document.querySelector(".tableBodyWrapper");b=b.offsetHeight;c.style.top=c.style.top?`${parseInt(c.style.top.replace("px",""))+b}px`:"auto";c.style.height=c.style.height?`${parseInt(c.style.height.replace("px",""))-b}px`:"auto"}B(a=!1){const b=this.w.getAll(),c=[this.getYear(),this.getMonth()].join("-"),e=this.N();let f=0;b.some((b)=>{b=[c,this.K(b[0])].join("-");this.C(b)&&(f+=1);return!0===(a&&e<=b)});return f}getYear(){return document.querySelector('input[type\x3d"hidden"][name\x3d"year"]').value}getMonth(){return`0${document.querySelector('input[type\x3d"hidden"][name\x3d"month"]').value}`.slice(-2)}M(){const a=new Date;return(new Date(a.getTime()-6E4*a.getTimezoneOffset())).toISOString()}N(){return this.M().slice(0,10)}ba(){return this.M().slice(11,16)}C(a){return/[1-5]/.test((new Date(a)).getDay())&&!m.hasOwnProperty(a)}O(a){return/\u4f11\u6687|\u6709\u7d66|\u6709\u4f11|\u5168\u4f11/.test(a)}P(a){return/[\u524d|AM|\uff21\uff2d]\u534a?\u4f11\u6687?/i.test(a)}S(a){return/[\u5f8c|PM|\uff30\uff2d]\u534a?\u4f11\u6687?/i.test(a)}R(a){return/[\u4ee3|\u632f\u66ff?]\u4f11/.test(a)}T(a){return/\u4f11\u51fa|\u4f11\u65e5\u51fa\u52e4/.test(a)}K(a){return(a=a.match(/[0-1]?[0-9][/|-]([0-3]?[0-9])/))?`0${a[1]}`.slice(-2):null}m(a){return(a=a.match(/[0-2]?[0-9]:[0-5][0-9]/))?`0${a[0]}`.slice(-5):null}}class r{constructor(a){this.F=document.querySelectorAll(a);this.length=this.F.length;if(!this.length)throw Error("\u30c6\u30fc\u30d6\u30eb\u30ec\u30b3\u30fc\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093");this.$=new t("td")}getAll(a=!1){const b=[];Array.from(this.F).some((c)=>{b.push(this.$.getAll(c));if(a&&c.classList.contains("today"))return!0});return b}}class t{constructor(a="td"){this.ia=a}getAll(a){return Array.from(this.L(a)).map((a)=>this.J(a.innerText))}getDate(a){return this.J(this.L(a)[0].innerText)}L(a){a=a.querySelectorAll(this.ia);return a.length?a:[]}J(a){return"string"===typeof a?a.replace(/[\r\n]+/g,"").replace(" ","").trim():null}}((a,b)=>{const c=new XMLHttpRequest;c.open(a,b,!0);c.onload=()=>{try{if(200<=c.status&&300>c.status){const a=JSON.parse(c.responseText);m=a.HOLIDAY;"1.2.0"!==a.VERSION&&window.confirm("\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306b\u66f4\u65b0\u304c\u3042\u308a\u307e\u3059\u3002\u6700\u65b0\u7248\u306b\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002")&&(window.location.href=a.URL);new p}else alert("\u4f11\u6687\u30c7\u30fc\u30bf\u306e\u8aad\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(e){console.error(e)}};c.send()})("GET",`https://gist.githubusercontent.com/tsubasa/e4950c89550fade82e91c5b9cbc5cd31/raw?_\x3d${(new Date).getTime()}`);class q{constructor(){this.A=8;this.v=this.u=2;this.H="09:30";this.G="18:30";this.X="11:00";this.W="13:00";this.Z="14:00";this.Y="16:00"}ca(){this.l=0;this.o=this.u;this.s=this.v;this.D=this.u+this.v;this.U=0}da(){return this.c(this.H,this.G,1)}ea(a){return this.c(this.H,a,.5)}fa(a){return this.c(a,this.G,.5)}ga(a,b){a=this.c(a,b);return[0,0,a[3],a[3],0,a[3],0]}c(a,b,c=0){this.ca();const e=this.X,f=this.W,h=this.Z,g=this.Y;let d=0,k=0;a=a?a:f;b=b?b:h;if(0>=this.a(b,h)){d=this.a(b,a);var l=this.a(b,f);0<l&&0<d&&(d-=l)}else 0>=this.a(f,a)?(k=this.a(b,a),l=this.a(h,a),0<l&&0<k&&(k-=l)):0<this.a(f,a)&&0<this.a(b,h)&&(d=this.a(f,a),k=this.a(b,h));this.l=this.j((d+k)/60);this.o=d&&0<this.a(b,e)?this.I(a,b,e,f):0;this.s=k&&0<this.a(g,a)?this.I(a,b,h,g):0;this.D=this.j(this.D-(this.o+this.s));this.U=0<this.l-this.A?this.j(this.l-this.A,1):0;return[this.o,this.s,this.j(this.l-(this.o+this.s)),this.l,this.D,this.U,c]}I(a,b,c,e){return this.j(this.a(0<this.a(b,e)?e:b,0<this.a(c,a)?c:a)/60)}aa(){return this.u+this.v}a(a,b){a=(new Date(2E3,1,1,a.split(":")[0],a.split(":")[1],0)).getTime()-(new Date(2E3,1,1,b.split(":")[0],b.split(":")[1],0)).getTime();return 0!==a?a/1E3/60:0}j(a,b=2){b=Math.pow(10,b);return Math.round((a+.0001)*b)/b}};})();