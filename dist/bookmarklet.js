javascript:(function(){'use strict';let m={};class p{constructor(){this.b=new q;this.B=new r(".tableBody .dateRow");this.f=[];this.Y=[];this.u=this.h=this.g=0;this.c();this.ma()}c(){let a=[];a=this.B.getAll(!0);const b=[this.getYear(),this.getMonth()].join("-");a.forEach((a)=>{const c=[b,this.M(a[0])].join("-"),d=this.m(a[1]);let g=this.m(a[4]);g=c===this.R()&&null===g&&null!==d?this.ga():g;this.T(a[5])?this.f.push(this.b.ja(g)):this.V(a[5])?this.f.push(this.b.ka(d)):this.S(a[5])?this.f.push(this.b.ia()):this.U(a[5])?this.g+=1:this.W(a[5])?(this.h+=1,this.f.push(this.b.la(d,g))):(this.F(c)&&this.f.push(this.b.c(d,g)),!this.F(c)&&d&&g&&(this.u+=1,this.f.push(this.b.c(d,g))))});a=this.B.getAll();a.forEach((a)=>{this.Y.push([this.U(a[5])?"*":null,this.W(a[5])?"*":null,this.S(a[5])?"*":null,this.T(a[5])?"*":null,this.m(a[1]),this.m(a[4]),this.V(a[5])?"*":null].join("\t"))})}ma(){const a=this.i("button");a.innerText="\u30bf\u30a4\u30e0\u30ab\u30fc\u30c9\u3092\u52e4\u6020\u8868\u5f62\u5f0f\u3067\u30b3\u30d4\u30fc\u3059\u308b";a.style.marginBottom="5px";a.addEventListener("click",()=>{this.ea(this.Y.join("\n"));const b=this.i("span");b.innerHTML=" (\u30b3\u30d4\u30fc\u5b8c\u4e86\uff01\u52e4\u6020\u8868\u30a8\u30af\u30bb\u30eb\u306e\x3cb\x3eE5\u30bb\u30eb\x3c/b\x3e\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044)";b.style.color="#f00";this.da(a,b);setTimeout(()=>{b.parentNode.removeChild(b)},8E3)});var b=this.P(),c=this.P(!0);const h=b-c;var d=this.b.C;const g=this.b.fa(),l="\u30b3\u30a2 \u30b3\u30a2\u5916 \u65e5\u8a08 \u30da\u30ca\u30eb\u30c6\u30a3 \u6b8b\u696d \u6b20\u52e4 \u6709\u4f11".split(" "),f=[0,0,0,0,0,0,0],e=this.i("div");this.f.forEach((a)=>{f[0]+=a[0]+a[1];f[1]+=a[2];f[2]+=a[3];f[3]+=a[4];f[4]+=a[5];f[5]+=a[4]===g&&0===a[2]?1:0;f[6]+=a[6]});e.innerHTML="[\u4eca\u6708\u306e\u60f3\u5b9a] ";const k=g*(b-this.g)-f[6]*g,n=(d-g)*(b+this.h);[k,n,k+n].forEach((a,b)=>{b&&(e.innerHTML+=", ");e.innerHTML+=`${l[b]}: ${a}`});e.innerHTML+=`, \u55b6\u696d\u65e5\u6570: ${b}\u65e5(\u6b8b\u308a: ${h}\u65e5)${this.h+this.u?`, \u4f11\u51fa: ${this.h}(${this.u})\u65e5`:""}${this.g?`, \u4ee3\u4f11: ${this.g}\u65e5`:""}`;e.innerHTML+="\x3cbr\x3e[\u672c\u65e5\u307e\u3067\u306e\u60f3\u5b9a] ";b=g*(c-this.g)-f[6]*g;c=(d-g)*(c+this.h);[b,c,b+c].forEach((a,b)=>{b&&(e.innerHTML+=", ");e.innerHTML+=`${l[b]}: ${a}`});e.innerHTML+="\x3cbr\x3e[\u73fe\u5728\u307e\u3067\u306e\u5b9f\u7e3e] ";f.forEach((a,b)=>{a=Math.round(100*a)/100;b&&(e.innerHTML+=", ");e.innerHTML+=`\x3cspan class\x3d"js${b}"\x3e${l[b]}: ${a}\x3c/span\x3e`});b>Math.round(100*f[0])/100&&(e.querySelector(".js0").style.color="red");c>Math.round(100*f[1])/100&&(e.querySelector(".js1").style.color="red");d=this.i("div");d.style.clear="both";d.style.padding="5px 10px";this.D(d,a);this.D(d,e);this.D(this.o(".timeCardHeader"),d);c=this.o(".tableBodyWrapper");d=d.offsetHeight;c.style.top=c.style.top?`${parseInt(c.style.top.replace("px",""))+d}px`:"auto";c.style.height=c.style.height?`${parseInt(c.style.height.replace("px",""))-d}px`:"auto"}P(a=!1){const b=this.B.getAll(),c=[this.getYear(),this.getMonth()].join("-"),h=this.R();let d=0;b.some((b)=>{b=[c,this.M(b[0])].join("-");this.F(b)&&(d+=1);return!0===(a&&h<=b)});return d}getYear(){return this.o('input[type\x3d"hidden"][name\x3d"year"]').value}getMonth(){return`0${this.o('input[type\x3d"hidden"][name\x3d"month"]').value}`.slice(-2)}O(){const a=new Date;return(new Date(a.getTime()-6E4*a.getTimezoneOffset())).toISOString()}R(){return this.O().slice(0,10)}ga(){return this.O().slice(11,16)}F(a){return/[1-5]/.test((new Date(a)).getDay())&&!m.hasOwnProperty(a)}S(a){return/\u4f11\u6687|\u6709\u7d66|\u6709\u4f11|\u5168\u4f11/.test(a)}T(a){return/[\u524d|AM|\uff21\uff2d]\u534a?\u4f11\u6687?/i.test(a)}V(a){return/[\u5f8c|PM|\uff30\uff2d]\u534a?\u4f11\u6687?/i.test(a)}U(a){return/[\u4ee3|\u632f\u66ff?]\u4f11/.test(a)}W(a){return/\u4f11\u51fa|\u4f11\u65e5\u51fa\u52e4/.test(a)}M(a){return(a=a.match(/[0-1]?[0-9][/|-]([0-3]?[0-9])/))?`0${a[1]}`.slice(-2):null}m(a){return(a=a.match(/[0-2]?[0-9]:[0-5][0-9]/))?`0${a[0]}`.slice(-5):null}i(a){return document.createElement(a)}o(a){return document.querySelector(a)}D(a,b){a.appendChild(b)}da(a,b){a.parentNode.insertBefore(b,a.nextElementSibling)}ea(a){const b=this.i("textarea");b.value=a;b.setAttribute("readonly","");b.style.position="absolute";b.style.left="-9999px";document.body.appendChild(b);b.select();document.execCommand("copy");document.body.removeChild(b)}}class r{constructor(a){this.H=document.querySelectorAll(a);this.length=this.H.length;if(!this.length)throw Error("\u30c6\u30fc\u30d6\u30eb\u30ec\u30b3\u30fc\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093");this.ca=new t("td")}getAll(a=!1){const b=[];Array.from(this.H).some((c)=>{b.push(this.ca.getAll(c));if(a&&c.classList.contains("today"))return!0});return b}}class t{constructor(a="td"){this.na=a}getAll(a){return Array.from(this.N(a)).map((a)=>this.L(a.innerText))}getDate(a){return this.L(this.N(a)[0].innerText)}N(a){a=a.querySelectorAll(this.na);return a.length?a:[]}L(a){return"string"===typeof a?a.replace(/[\r\n]+/g,"").replace(" ","").trim():null}}((a,b)=>{const c=new XMLHttpRequest;c.open(a,b,!0);c.onload=()=>{try{if(200<=c.status&&300>c.status){const a=JSON.parse(c.responseText);m=a.HOLIDAY;"1.2.1"!==a.VERSION&&window.confirm("\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306b\u66f4\u65b0\u304c\u3042\u308a\u307e\u3059\u3002\u6700\u65b0\u7248\u306b\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002")&&(window.location.href=a.URL);new p}else alert("\u4f11\u6687\u30c7\u30fc\u30bf\u306e\u8aad\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(h){console.error(h)}};c.send()})("GET",`https://gist.githubusercontent.com/tsubasa/e4950c89550fade82e91c5b9cbc5cd31/raw?_\x3d${(new Date).getTime()}`);class q{constructor(){this.C=8;this.A=this.w=2;this.J="09:30";this.I="18:30";this.$="11:00";this.Z="13:00";this.ba="14:00";this.aa="16:00"}ha(){this.l=0;this.s=this.w;this.v=this.A;this.G=this.w+this.A;this.X=0}ia(){return this.c(this.J,this.I,1)}ja(a){return this.c(this.J,a,.5)}ka(a){return this.c(a,this.I,.5)}la(a,b){a=this.c(a,b);return[0,0,a[3],a[3],0,a[3],0]}c(a,b,c=0){this.ha();const h=this.$,d=this.Z,g=this.ba,l=this.aa;let f=0,e=0;a=a?a:d;b=b?b:g;if(0>=this.a(b,g)){f=this.a(b,a);var k=this.a(b,d);0<k&&0<f&&(f-=k)}else 0>=this.a(d,a)?(e=this.a(b,a),k=this.a(g,a),0<k&&0<e&&(e-=k)):0<this.a(d,a)&&0<this.a(b,g)&&(f=this.a(d,a),e=this.a(b,g));this.l=this.j((f+e)/60);this.s=f&&0<this.a(b,h)?this.K(a,b,h,d):0;this.v=e&&0<this.a(l,a)?this.K(a,b,g,l):0;this.G=this.j(this.G-(this.s+this.v));this.X=0<this.l-this.C?this.j(this.l-this.C):0;return[this.s,this.v,this.j(this.l-(this.s+this.v)),this.l,this.G,this.X,c]}K(a,b,c,h){return this.j(this.a(0<this.a(b,h)?h:b,0<this.a(c,a)?c:a)/60)}fa(){return this.w+this.A}a(a,b){a=(new Date(2E3,1,1,a.split(":")[0],a.split(":")[1],0)).getTime()-(new Date(2E3,1,1,b.split(":")[0],b.split(":")[1],0)).getTime();return 0!==a?a/1E3/60:0}j(a){const b=Math.pow(10,2);return Math.round((a+.0001)*b)/b}};})();