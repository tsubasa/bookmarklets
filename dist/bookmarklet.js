javascript:(function(){'use strict';let p={};const q=(a)=>{const b=document.createElement("textarea");b.value=a;b.setAttribute("readonly","");b.style.position="absolute";b.style.left="-9999px";document.body.appendChild(b);b.select();document.execCommand("copy");document.body.removeChild(b)};class r{constructor(){this.b=new t;this.o=new u(".tableBody .dateRow");var a=this.o.getAll(!0),b=this.U();let e=0;const f=[],m=[this.getYear(),this.getMonth()].join("-");a.forEach((a)=>{const b=[m,this.D(a[0])].join("-"),n=this.h(a[1]);let c=this.h(a[4]);c=b===this.V()&&null===c&&null!==n?this.T():c;this.K(b)?this.I(a[5])?f.push(this.b.Z(c)):this.J(a[5])?f.push(this.b.$(n)):this.H(a[5])?f.push(this.b.Y()):f.push(this.b.f(n,c)):this.X(a[5])&&(e+=1,f.push(this.b.f(n,c)))});a=this.o.getAll();const h=[];a.forEach((a)=>{h.push([this.H(a[5])?"*":null,this.I(a[5])?"*":null,this.h(a[1]),this.h(a[4]),this.J(a[5])?"*":null].join("\t"))});const k=document.createElement("button");k.innerText="\u30bf\u30a4\u30e0\u30ab\u30fc\u30c9\u3092\u52e4\u6020\u8868\u5f62\u5f0f\u3067\u30b3\u30d4\u30fc\u3059\u308b";k.style.marginBottom="5px";k.addEventListener("click",()=>{q(h.join("\n"));const a=document.createElement("span");a.innerHTML=" (\u30b3\u30d4\u30fc\u5b8c\u4e86\uff01\u52e4\u6020\u8868\u30a8\u30af\u30bb\u30eb\u306e\x3cb\x3eG5\u30bb\u30eb\x3c/b\x3e\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044)";a.style.color="#f00";k.parentNode.insertBefore(a,k.nextElementSibling);setTimeout(()=>{a.parentNode.removeChild(a)},8E3)});const c=document.createElement("div"),g="\u30b3\u30a2 \u30b3\u30a2\u5916 \u65e5\u8a08 \u30da\u30ca\u30eb\u30c6\u30a3 \u6b8b\u696d \u6b20\u52e4 \u6709\u4f11".split(" "),d=[0,0,0,0,0,0,0],l=this.b.S();a=this.b.s;const v=b-f.length;f.forEach((a)=>{d[0]+=a[0]+a[1];d[1]+=a[2];d[2]+=a[3];d[3]+=a[4];d[4]+=a[5];d[5]+=a[4]===l&&0===a[2]?1:0;d[6]+=a[6]});c.innerHTML="[\u4eca\u6708\u306e\u60f3\u5b9a] ";[l*(b+e)-d[6]*l,(a-l)*(b+e),a*(b+e)-d[6]*l].forEach((a,b)=>{b&&(c.innerHTML+=", ");c.innerHTML+=`${g[b]}: ${a}`});c.innerHTML+=`, \u55b6\u696d\u65e5\u6570: ${b}\u65e5, \u6b8b\u308a: ${v}\u65e5${e?`, \u4f11\u51fa: ${e}\u65e5`:""}`;b=f.length;c.innerHTML+="\x3cbr\x3e[\u672c\u65e5\u307e\u3067\u306e\u60f3\u5b9a] ";[l*b,(a-l)*b,a*b].forEach((a,b)=>{b&&(c.innerHTML+=", ");c.innerHTML+=`${g[b]}: ${a}`});c.innerHTML+="\x3cbr\x3e[\u73fe\u5728\u307e\u3067\u306e\u5b9f\u7e3e] ";d.forEach((a,b)=>{a=Math.round(100*a)/100;b&&(c.innerHTML+=", ");c.innerHTML+=`\x3cspan class\x3d"js${b}"\x3e${g[b]}: ${a}\x3c/span\x3e`});l*b>Math.round(100*d[0])/100&&(c.querySelector(".js0").style.color="red");(a-l)*b>Math.round(100*d[1])/100&&(c.querySelector(".js1").style.color="red");a=document.createElement("div");a.style.clear="both";a.style.padding="5px 10px";a.appendChild(k);a.appendChild(c);document.querySelector(".timeCardHeader").appendChild(a);b=document.querySelector(".tableBodyWrapper");a=a.offsetHeight;b.style.top=b.style.top?`${parseInt(b.style.top.replace("px",""))+a}px`:"auto";b.style.height=b.style.height?`${parseInt(b.style.height.replace("px",""))-a}px`:"auto"}U(){const a=this.o.getAll(),b=[this.getYear(),this.getMonth()].join("-");let e=0;a.forEach((a)=>{a=[b,this.D(a[0])].join("-");this.K(a)&&(e+=1)});return e}getYear(){return document.querySelector('input[type\x3d"hidden"][name\x3d"year"]').value}getMonth(){return`0${document.querySelector('input[type\x3d"hidden"][name\x3d"month"]').value}`.slice(-2)}G(){const a=new Date;return(new Date(a.getTime()-6E4*a.getTimezoneOffset())).toISOString()}V(){return this.G().slice(0,10)}T(){return this.G().slice(11,16)}K(a){return/[1-5]/.test((new Date(a)).getDay())&&!p.hasOwnProperty(a)}X(a){return/\u4f11\u51fa|\u4f11\u65e5\u51fa\u52e4/.test(a)}H(a){return/\u4f11\u6687|\u6709\u7d66|\u6709\u4f11|\u5168\u4f11/.test(a)}I(a){return/[\u524d|AM|\uff21\uff2d]\u534a?\u4f11\u6687?/i.test(a)}J(a){return/[\u5f8c|PM|\uff30\uff2d]\u534a?\u4f11\u6687?/i.test(a)}D(a){return(a=a.match(/[0-1]?[0-9][/|-]([0-3]?[0-9])/))?`0${a[1]}`.slice(-2):null}h(a){return(a=a.match(/[0-2]?[0-9]:[0-5][0-9]/))?`0${a[0]}`.slice(-5):null}}class u{constructor(a){this.v=document.querySelectorAll(a);this.length=this.v.length;if(!this.length)throw Error("\u30c6\u30fc\u30d6\u30eb\u30ec\u30b3\u30fc\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093");this.R=new w("td")}getAll(a=!1){const b=[];Array.from(this.v).some((e)=>{b.push(this.R.getAll(e));if(a&&e.classList.contains("today"))return!0});return b}}class w{constructor(a="td"){this.aa=a}getAll(a){return Array.from(this.F(a)).map((a)=>this.C(a.innerText))}getDate(a){return this.C(this.F(a)[0].innerText)}F(a){a=a.querySelectorAll(this.aa);return a.length?a:[]}C(a){return"string"===typeof a?a.replace(/[\r\n]+/g,"").replace(" ","").trim():null}}((a,b)=>{const e=new XMLHttpRequest;e.open(a,b,!0);e.onload=()=>{try{if(200<=e.status&&300>e.status){const a=JSON.parse(e.responseText);p=a.HOLIDAY;"1.1.3"!==a.VERSION&&window.confirm("\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306b\u66f4\u65b0\u304c\u3042\u308a\u307e\u3059\u3002\u6700\u65b0\u7248\u306b\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002")&&(window.location.href=a.URL);new r}else alert("\u4f11\u6687\u30c7\u30fc\u30bf\u306e\u8aad\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(f){console.error(f)}};e.send()})("GET","https://gist.githubusercontent.com/tsubasa/e4950c89550fade82e91c5b9cbc5cd31/raw");class t{constructor(){this.s=8;this.m=this.l=2;this.A="09:30";this.w="18:30";this.N="11:00";this.M="13:00";this.P="14:00";this.O="16:00"}W(){this.g=0;this.i=this.l;this.j=this.m;this.u=this.l+this.m;this.L=0}Y(){return this.f(this.A,this.w,1)}Z(a){return this.f(this.A,a,.5)}$(a){return this.f(a,this.w,.5)}f(a,b,e=0){this.W();const f=this.N,m=this.M,h=this.P,k=this.O;let c=0,g=0;a=a?a:m;b=b?b:h;if(0>=this.a(b,h)){c=this.a(b,a);var d=this.a(b,m);0<d&&0<c&&(c-=d)}else 0>=this.a(m,a)?(g=this.a(b,a),d=this.a(h,a),0<d&&0<g&&(g-=d)):0<this.a(m,a)&&0<this.a(b,h)&&(c=this.a(m,a),g=this.a(b,h));this.g=this.c((c+g)/60);this.i=c&&0<this.a(b,f)?this.B(a,b,f,m):0;this.j=g&&0<this.a(k,a)?this.B(a,b,h,k):0;this.u=this.c(this.u-(this.i+this.j));this.L=0<this.g-this.s?this.c(this.g-this.s,1):0;return[this.i,this.j,this.c(this.g-(this.i+this.j)),this.g,this.u,this.L,e]}B(a,b,e,f){return this.c(this.a(0<this.a(b,f)?f:b,0<this.a(e,a)?e:a)/60)}S(){return this.l+this.m}a(a,b){a=(new Date(2E3,1,1,a.split(":")[0],a.split(":")[1],0)).getTime()-(new Date(2E3,1,1,b.split(":")[0],b.split(":")[1],0)).getTime();return 0!==a?a/1E3/60:0}c(a,b=2){b=Math.pow(10,b);return Math.round((a+.0001)*b)/b}};})();